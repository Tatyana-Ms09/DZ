import random

def генерировать_число():
    return ''.join(random.sample('0123456789', 4))

def проверить_угаданное(загаданное, угаданное):
    быки = 0
    коровы = 0
    for i in range(4):
        if угаданное[i] == загаданное[i]:
            коровы += 1
        elif угаданное[i] in загаданное:
            быки += 1
    return коровы, быки

def играть(загаданное, попытки=0):
    угаданное = input("Введите вашу догадку (четырёхзначное число): ")
    
    if not угаданное.isdigit() or len(угаданное) != 4:
        print("Пожалуйста, введите четырёхзначное число.")
        return играть(загаданное, попытки)

    коровы, быки = проверить_угаданное(загаданное, угаданное)
    попытки += 1

    if коровы == 4:
        print(f"Поздравляем, вы угадали число {загаданное} за {попытки} попыток!")
    else:
        print(f"Быки: {быки}, Коровы: {коровы}")
        return играть(загаданное, попытки)

if __name__ == "__main__":
    загаданное_число = генерировать_число()
    print("Добро пожаловать в игру 'Быки и коровы'!")
    играть(загаданное_число)
